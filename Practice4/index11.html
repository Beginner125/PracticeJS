<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/11.css">
  <script src="../jquery/jquery-3.4.1.js"></script>
  <title>登陆hover效果</title>
</head>

<body>
  <div class="container">
    <h1>douyin</h1>
    <form action="post">
      <input type="text" class="tbx" placeholder="帐号">
      <input type="password" class="tbx" placeholder="密码">
      <input type="submit" class="sub" value="登陆">
    </form>
  </div>
</body>
<script>
  const con = document.querySelector('.container');
  let isIn = true;
  let isOut = false;
  var span;
  con.addEventListener('mouseenter', (e) => {
    if (isIn) {
      let inX = e.clientX - e.target.offsetLeft;
      let inY = e.clientY - e.target.offsetTop;

      let el = document.createElement('span')
      el.style.left = inX + 'px'
      el.style.top = inY + 'px'
      con.appendChild(el)
      $('.container span').removeClass('out')
      $('.container span').addClass('in')

      span = document.querySelector('.container span')
      isIn = false
      isOut = true
    }
  })
  con.addEventListener('mouseleave', (e) => {
    if (isOut) {
      let outX = e.clientX - e.target.offsetLeft;
      let outY = e.clientY - e.target.offsetTop;

      $('.container span').removeClass('in');
      $('.container span').addClass('out');
      $('.out').css('left', outX + 'px');
      $('.out').css('top', outY + 'px');


      span = document.querySelector('.container span');
      isOut = false;

      setTimeout(() => {
        con.removeChild(span);
        isIn = true;
      }, 500);
    }
  })
</script>

</html>
